# String

# 什么是

## 多个字符组成的只读字符数组

# API

## 所有String API都无权修改原字符串，只能返回新字符串

## 大小写转换

### str.toUpperCase()

### str.toLowerCase()

## 获取指定位置字符

### var char=str.charAt(i)

##### str[i]

### var unicode=str.charCodeAt(i)

##### 简写 :  省略i, 默认为0

##### var char=String.fromCharCode(unicode)

## 选取子字符串

### var subStr=str.slice(starti,endi+1)

### str.substring(starti,endi+1)

##### 简写 : 不支持负数参数

### str.substr(starti,n)

##### 不考虑含头不含尾

## 查找关键词

### 1. 查找一个固定的关键词出现的位置

##### var i=str.indexOf("关键词",fromi)

-   返回值  :  返回找到的关键词所在的位置  /  如果找不到返回-1

-   固定套路  :  查找一个固定关键词所有出现的位置

```
var i=-1;
while((i=str.indexOf("关键词",i+1))!=-1){
    i  /  / 本次找到的关键词位置
}
```

-   简写 : 省略fromi，默认为0

##### 优 : 

-   可以指定开始位置，可以找所有

##### 缺 :  

-   不支持正则，一次只能找一种关键词

##### 专门查找最后一个关键词的位置

-   var i=str.lastIndexOf("关键词")

### 2. 判断是否包含符合条件的关键词

##### var i=str.search( / 正则表达式 / )

-   如果返回-1，说明不包含，如果返回不是-1，说明包含

-   忽略大小写 :  / 正则表达式 / i

-   强调 : 不支持g

##### 优 :  

-   支持正则

##### 缺 : 

-   不能设置开始查找位置，只能找第一个，不能找所有

-   只能返回位置，不能返回关键词内容

### 3. 获取所有关键词的内容

##### var kwards=str.match( / 正则表达式 / ig)

-   返回值 : 包含所有关键词内容的数组

-   如果找不到，返回null

-  强调 : 如果一个方法可能返回null,都要先 判断不是null，再使用！

-   强调 : 省略g，只找第1个,加g，才找所有

##### 优 :  获得所有关键词的内容

##### 缺 :  无法返回每个关键词的位置

### 4. 即获得每个关键词的内容，又获得每个关键词的位置

##### regexp.exec(str)

## 替换 

### 简单替换 : 

##### str=str.replace( / 正则表达式 / ig,“替换值”)

##### 问题 :  无法根据不同的关键词，选择不同的值替换

### 高级替换 : 

```
str=str.replace( / 正则表达式 / ig,function(kw,$1,$2,...){
     /  / kw :  会自动获得本次找到的完整关键词
     /  / $n :  会自动获得本次找到的关键词中第n个分组的子内容
    return 根据不同kw，返回不同替换值 
})
```

### 衍生

##### 删除 : 替换为空字符串

##### 例子


- 1. 用正则对原始字符串分组 : var reg= / (\d{4})(\d{2})(\d{2}) / 

- 2. 在replace的替换值中使用$n，重新拼接新的格式 : str.replace(reg,"$1年$2月$3日")

## 切割

### 简单切割

##### var subs=str.split("分隔符")

### 复杂切割

##### var subs=str.split( / 正则表达式 / )

### 切割后的结果中不包含分隔符

### 固定套路

##### var chars=str.split("")
