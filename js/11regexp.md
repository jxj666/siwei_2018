# RegExp

## 创建

### 1. 直接量

#### var reg=/正则表达式/ig

#### 如果正则表达式是固定不变的

#### 字符冲突

##### /  -> \/

### 2. 用new

#### var reg=new RegExp("正则表达式","ig");

#### 如果正则表达式需要动态生成

#### 字符冲突: 

##### \->\\  \"  \'

## API

### 查找关键词

#### var arr=reg.exec(str)

##### 即查找内容又查找位置

###### 在str中查找下一个满足reg要求的关键词

##### 返回值: 

###### arr: ["完整关键词", $1, $2,..., index: 本次找到关键词的位置]

###### reg.lastIndex

####### 下次开始位置

###### 如果没找到，返回null

##### exec做三件事

###### 1. 将本次找到的关键词，放入数组第0个元素, 将每个分组的子内容放入后续元素

###### 2. 修改数组的index属性，记录本次找到关键词的位置

###### 3. 修改reg.lastIndex属性=index+关键词的长度

##### 固定套路:

###### 找全部

####### var arr=null;
while((arr=reg.exec(str))!=null){
    arr[0] //完整关键词
    arr[n] //第n个分组的子内容
    arr.index //本次找到关键词的位置
    reg.lastIndex //下次开始查找的位置
}

####### 简写

######## 如果只获得某个分组的子内容

######## while(reg.exec(str)!=null){
    RegExp.$n  //第n个分组的子内容
}

### 验证

#### var bool=reg.test(str)

##### 验证str是否符合reg的规则要求

#### 问题： 

##### test默认，只要部分匹配就返回true

#### 解决: 

##### 只要验证，正则都要前加^，后加$

###### 表示从头到尾完全匹配
